<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
    <head>
        <title>How to use SFTP (introduction)</title>
        <meta name="keywords" content="Chapter 3,">
        <link rel="stylesheet" type="text/css" href="../css/edtmanual.css">
    </head>
    <body>
        <h1>How to use SFTP (introduction)</h1>
        <p><a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html">SSHFTPClient</a> should be used when secure file transfers are required via SFTP. <a href="../../api/com/enterprisedt/net/ftp/FTPClient.html">FTPClient</a> and
            <a href="../../api/com/enterprisedt/net/ftp/pro/ProFTPClient.html">ProFTPClient</a> do not support secure transfers. <a href="../../api/com/enterprisedt/net/ftp/ssl/SSLFTPClient.html">SSLFTPClient</a> 
            supports the FTPS protocol, which is unrelated to SFTP.
        </p>
        <p>To run the examples on Windows, you can download a free trial of <b>CompleteFTP</b>, a Windows SFTP server, from <a href="http://www.enterprisedt.com/products/completeftp/overview.html" target="_blank">this link</a>. 
            CompleteFTP also supports FTPS.
        </p>
        <p>The basic elements of configuring an SFTP connection are:</p>
        <ul>
            <li>
                <b>Server Validation:</b> Ensuring the SSH server is validated is an important issue in SFTP. By default an attempt will be made to validate the server using the client's local store of server public keys. 
                Typically, the server's public key is stored in either a file containing that single key, or in a file often called <i>known_hosts</i> which can contain a number of public keys for different servers. 
                When the client connects to the server, the server's public key is returned and compared with the available public keys stored in the client. 
            </li>
            <li>
                <b>Client Authentication:</b> Clients are authenticated by either username and password, or private key and private key passphrase. In the first case, the user requires an account on the server that is 
                set up for SFTP access. In the second case, the user's public key must be registered with the server (typically by copying it into an <i>authorized_keys</i> file on the server), and the user's private key 
                must be loaded by the client. A third method known as keyboard-interactive authentication is also supported.
            </li>
        </ul>
        <h4>Validation of Server Public Keys</h4>
        <p>Usage of server validation is strongly recommended since it virtually eliminates the possibility of communicating with the wrong server. While developing code, however, the programmer might like to postpone 
            any possible validation issues by disabling server validation. Note that server validation should never be disabled on production systems.
        </p>
        <p>All operations related to server validation are delegated to an instance of <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPValidator.html">SSHFTPValidator</a> (or a subclass thereof). 
            This instance maintains a list of server public keys that are authorized. It can be accessed through the <a href="../../api/com/enterprisedt/net/ftp/ssh/SSHFTPClient.html#getValidator%28%29">SSHFTPClient.getValidator()</a> method. 
        </p>
        <p>To disable server validation, see <a href="howtousesftpwithoutservervalidation.html">How to use SFTP (without server validation)</a>.</p>
        <p>By default server validation is enabled. This means that the server's public key must added to the validator's local store of public keys for a connection to be successful. </p>
        <p>There are two ways that the client can load server public keys into the validator's store - via the <a href="howtousesftpwithservervalidationknownhosts.html">known_hosts file</a> or by explicitly 
            <a href="howtousesftpwithservervalidationpublickeyfile.html">loading a public key from a file</a>.
        </p>
        <h4>Client Authentication</h4>
        <p>The most commonly used forms of client authentication are by username/password or by public/private keys. Note that some SFTP servers are set up to disallow password authentication by default, 
            in which case username/password connection attempts will fail unless password authentication is enabled in the server configuration file.
        </p>
        <p>For details on each method of client authentication, see:</p>
        <ul>
            <li><a href="howtousesftpwithclientvalidation.html">How to use SFTP (with client validation - password authentication)</a>.</li>
            <li><a href="howtousesftpwithclientvalidationpublickeyauthentication.html">How to use SFTP (with client validation - public key authentication)</a>.</li>
            <li><a href="howtousesftpwithclientvalidationkeyboardinteractiveauthentication.html">How to use SFTP (with client validation - keyboard-interactive authentication)</a>.</li>
        </ul>
        <h4>Keypair Generation</h4>
        <p>See <a href="howtousesftpkeypairgeneration.html">How to use SFTP (keypair generation)</a> for details on generating SSH keypairs for use in SFTP.</p>
    </body>
</html>

